{"version":3,"sources":["../../src/pages/sign-up/sign-up.module.ts","../../src/pages/land/land.ts","../../src/pages/sign-up/sign-up.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACT;AAUvC;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QAR5B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,4DAAU;aACX;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,4DAAU,CAAC;aACrC;SACF,CAAC;OACW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZa;AACS;AACM;AAOzD;IAEE,kBACS,OAAsB,EACtB,YAA0B,EAC1B,GAAQ;QAFR,YAAO,GAAP,OAAO,CAAe;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,QAAG,GAAH,GAAG,CAAK;QAEf,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC;IACH,CAAC;IAED,2BAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAdU,QAAQ;QAJpB,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;uFAI+B;YACR,4DAAY;YACrB,GAAG;OALN,QAAQ,CAgBpB;IAAD,CAAC;AAAA;SAhBY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;;;ACTqB;AACkC;AACS;AACzB;AACpB;AACc;AAEe;AAQrE;IAoBE,oBACS,OAAsB,EACtB,SAAoB,EACpB,WAAwB,EACxB,iBAAoC,EACpC,aAA4B,EAC5B,WAAwB,EACxB,gBAAkC;QANlC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QACxB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;QACxB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAlB3C,sBAAiB,GAAG,CAAC,CAAC;QACtB,sBAAiB,GAAG,CAAC,CAAC;QACtB,sBAAiB,GAAG,EAAE,CAAC;QACvB,uBAAkB,GAAG,CAAC,CAAC;QACvB,sBAAiB,GAAG,CAAC,CAAC;QAEtB,UAAK,GAAG,KAAK,CAAC;QAcZ,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC5C,KAAK,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YAChC,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YACnF,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACnF,YAAY,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;YACvC,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACpC,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACvC,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,CAAC,CAAC;YACpC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,kEAAU,CAAC,SAAS,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;YACjI,UAAU,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;SACtC,EACC;YACE,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,YAAY,CAAC;SACxD,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAC1D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAC1D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;IAChE,CAAC;IAED,qBAAqB;IACrB,6BAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,2BAAM,GAAN,UAAO,eAA0B;QAAjC,iBA8BC;QA5BC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC,CAAC;QACxF,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvB,IAAM,YAAY,GAAG;YACnB,KAAK,EAAE,eAAe,CAAC,KAAK,CAAC,KAAK;YAClC,OAAO,EAAE,eAAe,CAAC,KAAK,CAAC,OAAO;YACtC,QAAQ,EAAE,eAAe,CAAC,KAAK,CAAC,QAAQ;YACxC,QAAQ,EAAE,eAAe,CAAC,KAAK,CAAC,QAAQ;YACxC,YAAY,EAAE,eAAe,CAAC,KAAK,CAAC,YAAY;YAChD,OAAO,EAAE,eAAe,CAAC,KAAK,CAAC,OAAO;YACtC,OAAO,EAAE,eAAe,CAAC,KAAK,CAAC,OAAO;YACtC,UAAU,EAAE,eAAe,CAAC,KAAK,CAAC,UAAU;SAC7C,CAAC;QAEF,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,cAAI;YACrD,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YAEnB,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YAC1B,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,iEAAiE,EAAE,IAAI,CAAC,CAAC;YACtG,KAAI,CAAC,QAAQ,CAAC,4DAAQ,CAAC,CAAC;QAC1B,CAAC,EACC,eAAK;YACH,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAEhD,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YAC1B,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kCAAa,GAAb,UAAc,QAAgB,EAAE,UAAkB;QAChD,MAAM,CAAC,UAAU,GAAG;YAClB,IAAI,aAAa,GAAG,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC;YAC5C,IAAI,eAAe,GAAG,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;YAEhD,EAAE,CAAC,CAAC,aAAa,KAAK,EAAE,IAAI,aAAa,KAAK,eAAe,CAAC,CAAC,CAAC;gBAC9D,MAAM,CAAC,EAAE,UAAU,EAAE,WAAS,aAAa,yBAAoB,eAAiB,EAAE;YACpF,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAEO,oCAAe,GAAvB,UAAwB,KAAK;QAC3B,IAAM,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAE9C,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,EAAE,CAAC;QACZ,CAAC;QAED,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QAChC,CAAC;QAED,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QAChC,CAAC;QAED,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAC9B,CAAC;IArHU,UAAU;QAJtB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;6EAsB+B;YACX,mEAAS;YACP,wEAAW;YACL,8EAAiB;YACrB,wEAAa;YACf,sFAAW;YACN,OAAgB;OA3BhC,UAAU,CAuHtB;IAAD,CAAC;AAAA;SAvHY,UAAU,gB","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SignUpPage } from './sign-up';\n\n@NgModule({\n  declarations: [\n    SignUpPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignUpPage),\n  ],\n})\nexport class SignUpPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sign-up/sign-up.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, App } from 'ionic-angular';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-land',\n  templateUrl: 'land.html',\n})\nexport class LandPage {\n\n  constructor(\n    public navCtrl: NavController,\n    public authProvider: AuthProvider,\n    public app: App) {\n\n    if (this.authProvider.authenticated()) {\n      this.navCtrl.setRoot('HomePage');\n    }\n  }\n\n  openPage(page) {\n    this.navCtrl.setRoot(page);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/land/land.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators, AbstractControl } from '@angular/forms';\nimport { AlertProvider } from '../../providers/alert/alert';\nimport { LandPage } from '../land/land';\nimport { EnvProvider } from '../../providers/env/env';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { BenutzerProvider } from '../../providers/benutzer/benutzer';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-sign-up',\n  templateUrl: 'sign-up.html',\n})\nexport class SignUpPage {\n\n  signUpFormGroup: FormGroup;\n  email: AbstractControl;\n  vorname: AbstractControl;\n  nachname: AbstractControl;\n  password: AbstractControl;\n  rePassword: AbstractControl;\n\n  usernameMinLength = 6;\n  passwordMinLength = 8;\n  passwordMaxLength = 20;\n  firstnameMinLength = 2;\n  lastnameMinLength = 2;\n\n  error = false;\n  errorMessage: string;\n\n  loading: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public formBuilder: FormBuilder,\n    public loadingController: LoadingController,\n    public alertProvider: AlertProvider,\n    public envProvider: EnvProvider,\n    public benutzerProvider: BenutzerProvider) {\n\n    this.signUpFormGroup = this.formBuilder.group({\n      email: ['', Validators.required],\n      vorname: ['', [Validators.required, Validators.minLength(this.firstnameMinLength)]],\n      nachname: ['', [Validators.required, Validators.minLength(this.lastnameMinLength)]],\n      geburtsDatum: ['', Validators.required],\n      gewicht: ['', [Validators.required]],\n      geschlecht: ['', [Validators.required]],\n      groesse: ['', [Validators.required]],\n      password: ['', [Validators.required, Validators.minLength(this.passwordMinLength), Validators.maxLength(this.passwordMaxLength)]],\n      rePassword: ['', Validators.required],\n    },\n      {\n        validator: this.checkPassword('password', 'rePassword')\n      });\n\n    this.email = this.signUpFormGroup.controls['email'];\n    this.vorname = this.signUpFormGroup.controls['vorname'];\n    this.nachname = this.signUpFormGroup.controls['nachname'];\n    this.email = this.signUpFormGroup.controls['email'];\n    this.password = this.signUpFormGroup.controls['password'];\n    this.rePassword = this.signUpFormGroup.controls['rePassword'];\n  }\n\n  // go to another page\n  openPage(page) {\n    this.navCtrl.setRoot(page);\n  }\n\n  signUp(signUpFormGroup: FormGroup) {\n\n    this.loading = this.loadingController.create({ content: \"Signing up, please wait...\" });\n    this.loading.present();\n\n    const benutzerData = {\n      email: signUpFormGroup.value.email,\n      vorname: signUpFormGroup.value.vorname,\n      nachname: signUpFormGroup.value.nachname,\n      password: signUpFormGroup.value.password,\n      geburtsDatum: signUpFormGroup.value.geburtsDatum,\n      groesse: signUpFormGroup.value.groesse,\n      gewicht: signUpFormGroup.value.gewicht,\n      geschlecht: signUpFormGroup.value.geschlecht\n    };\n\n    this.benutzerProvider.save(benutzerData).subscribe(data => {\n      this.error = false;\n\n      this.loading.dismissAll();\n      this.alertProvider.longAlert('Sign up successful!\\nCheck your email to activate your account!', true);\n      this.openPage(LandPage);\n    },\n      error => {\n        this.error = true;\n        this.errorMessage = this.getErrorMessage(error);\n\n        this.loading.dismissAll();\n        this.alertProvider.middleAlert('Sign up failed', false);\n      });\n  }\n\n  checkPassword(password: string, rePassword: string) {\n    return function (frm) {\n      let passwordValue = frm.get(password).value;\n      let rePasswordValue = frm.get(rePassword).value;\n\n      if (passwordValue !== '' && passwordValue !== rePasswordValue) {\n        return { 'notMatch': `value ${passwordValue} is not equal to ${rePasswordValue}` }\n      }\n      return null;\n    }\n  }\n\n  private getErrorMessage(error): string {\n    const messageParts = error.message.split(':');\n\n    if (messageParts.length <= 0) {\n      return '';\n    }\n\n    if (messageParts.length == 3) {\n      return messageParts[2].trim();\n    }\n\n    if (messageParts.length == 1) {\n      return messageParts[0].trim();\n    }\n\n    return error.message.trim();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/sign-up/sign-up.ts"],"sourceRoot":""}