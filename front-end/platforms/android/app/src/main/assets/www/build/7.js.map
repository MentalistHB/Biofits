{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ActionSheetController, LoadingController } from 'ionic-angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { BenutzerProvider } from '../../providers/benutzer/benutzer';\nimport { AlertProvider } from '../../providers/alert/alert';\nimport { EnvProvider } from '../../providers/env/env';\nimport { StringUtilsProvider } from '../../providers/string-utils/string-utils';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  name = \"Adam G Smith\";\n  current_job = \"Assistant Professor of Science\";\n  email = \"Adam.g@gmail.com\";\n  address = \"2 Floor,Building 4\";\n  phone = \"91234 56789\";\n  code = '1';\n  password = \"123456789\";\n  jobs = \"Assistant Professor of Science 2011 \\n,Professor of Physics 2009 \\n,Assistant Professor of Science 2011 \\n,Professor of Physics 2009\";\n\n  flag = true;\n  btn_text = 'Update';\n  btn_color = \"color1\";\n  img = 'assets/img/profile.png';\n\n\n  benutzerFormGroup: FormGroup;\n  phoneFormGroup: FormGroup;\n  addressFormGroup: FormGroup;\n  pictureFormGroup: FormGroup;\n\n  benutzerId: string;\n  firstnameMinLength = 2;\n  lastnameMinLength = 2;\n\n  loading: any;\n\n  benutzer: any = {};\n\n  constructor(\n    public navCtrl: NavController,\n    public actionSheetCtrl: ActionSheetController,\n    public camera: Camera,\n    public benutzerProvider: BenutzerProvider,\n    public alertProvider: AlertProvider,\n    public formBuilder: FormBuilder,\n    public envProvider: EnvProvider,\n    public loadingController: LoadingController,\n    public stringUtilsProvider: StringUtilsProvider,\n    public authProvider: AuthProvider) {\n\n    this.loading = this.loadingController.create({ content: \"Loading, please wait...\" });\n    this.loading.present();\n\n    this.benutzerFormGroup = this.formBuilder.group({\n      email: ['', Validators.required],\n      vorname: ['', [Validators.required, Validators.minLength(this.firstnameMinLength)]],\n      nachname: ['', [Validators.required, Validators.minLength(this.lastnameMinLength)]],\n      geburtsDatum: ['', Validators.required],\n      gewicht: ['', [Validators.required]],\n      geschlecht: ['', [Validators.required]],\n      groesse: ['', [Validators.required]]\n    });\n\n    // get benutzer\n    this.benutzerProvider.get(localStorage.getItem('userId')).subscribe(benutzer => {\n      this.benutzer = benutzer;\n      this.benutzerId = benutzer.id;\n\n      this.benutzerFormGroup = this.formBuilder.group({\n        email: [this.stringUtilsProvider.capitalize(benutzer.email), Validators.required],\n        vorname: [this.stringUtilsProvider.capitalize(benutzer.vorname), [Validators.required, Validators.minLength(this.firstnameMinLength)]],\n        nachname: [this.stringUtilsProvider.capitalize(benutzer.nachname), [Validators.required, Validators.minLength(this.lastnameMinLength)]],\n        gewicht: [benutzer.gewicht, [Validators.required]],\n        geschlecht: [benutzer.geschlecht, [Validators.required]],\n        groesse: [benutzer.groesse, [Validators.required]],\n        geburtsDatum: [this.convertDate(benutzer.geburtsDatum, 0)]\n      });\n\n      this.loading.dismissAll();\n    },\n      error => {\n        this.alertProvider.middleAlert(error.message, true);\n        this.loading.dismissAll();\n      });\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  update() {\n    if (this.flag == false) {\n      this.flag = true;\n      this.btn_text = \"Update\";\n      this.btn_color = \"color1\";\n\n      this.loading = this.loadingController.create({ content: \"Please wait...\" });\n      this.loading.present();\n\n      const benutzerData = {\n        email: this.benutzerFormGroup.value.email,\n        vorname: this.benutzerFormGroup.value.vorname,\n        nachname: this.benutzerFormGroup.value.nachname,\n        password: this.benutzerFormGroup.value.password,\n        groesse: this.benutzerFormGroup.value.groesse,\n        gewicht: this.benutzerFormGroup.value.gewicht,\n        geschlecht: this.benutzerFormGroup.value.geschlecht,\n        geburtsDatum: new Date()\n      };\n\n      this.benutzerProvider.update(localStorage.getItem('userId'), benutzerData).subscribe(data => {\n        this.loading.dismissAll();\n        this.alertProvider.longAlert('Daten aktualisiert!', true);\n      },\n        error => {\n          this.loading.dismissAll();\n          this.alertProvider.middleAlert('Aktualisierung ist fehlgeschlagen.', false);\n        });\n    }\n    else {\n      this.flag = false;\n      this.btn_text = \"Save\";\n      this.btn_color = \"color2\";\n    }\n\n  }\n\n  ionViewCanEnter() {\n    return this.authProvider.authenticated();\n  }\n\n  // gallery \n  // ActionSheet for change user picture\n  selectImage() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'Modify your Picture',\n      buttons: [\n        {\n          text: 'Gallery',\n          handler: () => { this.get_camera(1); }\n        }, {\n          text: 'Camera',\n          handler: () => { this.get_camera(2); }\n        }, {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => { }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n  get_camera(source) {\n    const options: CameraOptions = {\n      quality: 100, destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG, mediaType: this.camera.MediaType.PICTURE\n      , allowEdit: true, targetWidth: 512, targetHeight: 512, correctOrientation: true\n    }\n\n    if (source == 1) {\n      options.sourceType = this.camera.PictureSourceType.PHOTOLIBRARY\n    }\n    else {\n      options.sourceType = this.camera.PictureSourceType.CAMERA\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      this.img = 'data:image/jpeg;base64,' + imageData;\n    }, (err) => { });\n\n  }\n\n  convertDate(date: Date, addDays: number) {\n    let convertedDate = new Date(date);\n    convertedDate.setDate(convertedDate.getDate() + addDays);\n    return convertedDate.toISOString().substring(0, 10);\n  }\n\n  compare(o1, o2) {\n    return o1 === o2;\n  }\n\n  // go to another page\n  openPage(page) {\n    this.navCtrl.setRoot(page);\n  }\n\n  private getErrorMessage(error): string {\n    const messageParts = error.message.split(':');\n\n    if(messageParts.length <= 0) {\n      return '';\n    }\n\n    if(messageParts.length == 3) {\n      return messageParts[2].trim();\n    }\n\n    if(messageParts.length == 1) {\n      return messageParts[0].trim();\n    }\n\n    return error.message.trim();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}